{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>Recipe Buddy</title>
		<link rel = "stylesheet" href = "{% static 'css/mystyle.css' %}">
    </head>
	
	<!--
		4/27/22

		- Account hub needs to be made dynamic such that table data cells only show up for recipes that are actually there.
		- Utensils and ingredients should be separate floating divs NOT stored in data cells in the table. This would make it too difficult
		display recipes in a readable format
	
	-->
	<script>
		function loadLinks(){
			var link0 = document.getElementById("recipeLink0")
			var id0 = "{{recipes.0.get_id}}";
			console.log(id0)
			link0.setAttribute("href", "/app/recipe/" + id0)

			var link1 = document.getElementById("recipeLink1")
			var id1 = "{{recipes.1.get_id}}";
			console.log(id1)
			link1.setAttribute("href", "/app/recipe/" + id1)

			var link2 = document.getElementById("recipeLink2")
			var id2 = "{{recipes.2.get_id}}";
			console.log(id2)
			link2.setAttribute("href", "/app/recipe/" + id2)

			var link3 = document.getElementById("recipeLink3")
			var id3 = "{{recipes.3.get_id}}";
			console.log(id3)
			link3.setAttribute("href", "/app/recipe/" + id3)
		}
		

	</script>
	
	<body onload="loadLinks()">

	<ul style = "background-color : #333; list-style-type: none; overflow: hidden;" class="ul">
		<li class="li"><a href="/app" style = "float:left; text-decoration:none; font-family: 'Trebuchet MS', sans-serif;" class="li a">Home</a></li>
		<li style = "float:right; font-family: 'Trebuchet MS', sans-serif;" class="li"><a href="/app" style = "text-decoration:none;" class="li a">Logout</a></li>
		<li style = "float:right; font-family: 'Trebuchet MS', sans-serif;" class="li"><a href="/app/account-hub" style = "text-decoration:none;" class="li a">My Account</a></li>
	</ul>
        
        <section style = "padding : 0.1in;">
            <center><b style="font-size: 300%;">{{user.get_username}}</b></center>
        </section>
		
		<center><table style = "width:75%; border-spacing: 30px;" cellpadding = "10">
			<tr style="height:30px; vertical-align:top;">
				<th colspan = "2" style = "border: 1px solid black; background-color: #e6e6e6;">My Recipes</th>
				<th colspan = "2" style = "border: 1px solid black; background-color: #e6e6e6;">My Pantry</th>
			</tr>

			
			
			<tr style="height:300px; vertical-align:top;">
				{% for recipe in recipes %}
				<td style = "border: 1px solid black; background-color: #e6e6e6;">
					<a href = "ifthisisstillheresomethingwentwrong" style ="color:black; text-decoration:none;" id="recipeLink0">
						<p style = "text-align:center; font-size:200%;">{{recipe.recipe_name}}</p>
						<ul>
							<li>{{recipe.recipe_ingredients}}</li>
						</ul>
					</a>
				</td>
				{% endfor %}
				<td class="recipe2" style = "border: 1px solid black; background-color: #e6e6e6;">
					<a href = "ifthisisstillheresomethingwentwrong" style ="color:black; text-decoration:none;" id="recipeLink1">
						<p style = "text-align:center; font-size:200%;">{{recipe2.recipe_name}}</p>
						<ul>
							<li>{{recipe2.recipe_ingredients}}</li>
						</ul>
					</a>
				</td>
				

				<td style = "border: 1px solid black; background-color: #e6e6e6; width:50%;">
					<p style = "text-align:center; font-size:200%;">Utensils</p>
					<ul>
						{% for utn in utensils %}
						<li>{{utn}}</li>
						{% endfor %}
					</ul>
					<p style = "text-decoration:underline; text-align:center;">View all&gt;&gt;</p>
				</td>
			</tr>

			<tr style="height:300px; vertical-align:top;">

				<td style = "border: 1px solid black; background-color: #e6e6e6;">
					<a href = "ifthisisstillheresomethingwentwrong" style ="color:black; text-decoration:none;" id="recipeLink2">
						<p style = "text-align:center; font-size:200%;">{{recipes.2.recipe_name}}</p>
						<ul>
							{% for ingr in recipes_ingredients.2 %}
							<li>{{ingr}}</li>
							{% endfor %}
						</ul>
					</a>
				</td>
				<td style = "border: 1px solid black; background-color: #e6e6e6;">
					<a href = "ifthisisstillheresomethingwentwrong" style ="color:black; text-decoration:none;" id="recipeLink3">
						<p style = "text-align:center; font-size:200%;">{{recipes.3.recipe_name}}</p>
						<ul>
							{% for ingr in recipes_ingredients.3 %}
							<li>{{ingr}}</li>
							{% endfor %}
						</ul>
					</a>
				</td>
				<td style = "border: 1px solid black; background-color: #e6e6e6; width:50%;">
					<p style = "text-align:center; font-size:200%;">Ingredients</p>
					<ul>
						{% for ingr in ingredients %}
						<li>{{ingr}}</li>
						{% endfor %}
					</ul><p style = "text-decoration:underline; text-align:center;">View all&gt;&gt;
					</p>
				</td>
			</tr>
			
		</table></center>
		
		<center><a href="/app/create-recipe"><button style="height: 0.5in; width: 9in; font-size:150%;">Create New Recipe</button></a></center>
		
	</body>
	
</html>